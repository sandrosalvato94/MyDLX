\chapter{Introduction}

This report aims at being a short documentation on the Microelectronic Systems course project at the first year of the master degree both in Computer and Electronics Engineering at Politecnico di Torino. \newline
The target is the \textbf{design} and the \textbf{implementation} phase of a pipelined processor by VHDL, as is described in \cite{book:rif.1}, followed by a simple \textbf{synthesis} and a \textbf{physical layout} definition. The main flow has passed through the following steps:
\begin{enumerate}
\item Design and implementation at RTL level
\item Simulation by assembly codes
\item Synthesis and gathering results about timing, area and power consuption
\item Realization of the physical layout
\end{enumerate}

For 1 and 2, I used the \textit{Xilinx ISE Design Suite 14.7}, although during the laboratory sessions the tool was \textit{ModelSim}. I made this choice because I think it's better both from the management of files point of view and for the more intuitive interface of the simulation tool. The synthesis step has been performed by \textit{Synopsys' DesignVision}, whose license has been granted to the Politecnico di Torino. In order to use it, I haved to use a virtual machine, running on \textit{Linux}, provided by the Department of Electronics and Telecommunications servers. Same conditions for the last step, by \textit{Cadence Innovus Implementation System}. Moreover, I liked exploiting \textit{GitHub} functionalities to make easier the passage of data from my \textit{Windows} laptop and the virtual machine; you can download it from \url{https://github.com/sandrosalvato94/MyDLX}

\section{Basic vs Pro version}

Specification are described in \cite{ProjectSpecification}, you can find it among files in Documents directory. Summarizing, basics features for the Basic version are:
\begin{itemize}
\item \textbf{Pipeline}
\item \textbf{Simple instruction set} (see below)
\item \textbf{Simple datapath}
\item \textbf{Basic synthesis}
\item \textbf{Basic physical design}
\item This \textbf{report}
\end{itemize}

\begin{figure}[H]
\centering
\includegraphics[scale=.7]{Immagini/00}
\label{00}
\caption{Basic DLX Datapath. \textit{Figure 3.4 from \cite{book:rif.1}}}
\end{figure}

Among pro hints, these are reported:
\begin{itemize}
\item \textbf{Extended instruction set} (see below)
\item \textbf{Extended datapath}
\item \textbf{Windowing}
\item \textbf{Control Hazard}
\item \textbf{Optimization of the power consuption}
\item \textbf{Caching}
\item \textbf{Advanced synthesis}
\item \textbf{Advanced physical design}
\item \textbf{Whatever I wanted...}
\end{itemize}

I targeted the pro version, exploring and implementing the following features:
\begin{itemize}
\item \textbf{Extended instruction set}
\begin{itemize}
\item \textbf{More} instructions
\item \textbf{Modified} instructions
\item \textbf{Totally new} instructions
\end{itemize}
\item \textbf{Control hazard} management by a \textbf{Branch Target Buffer}
\item \textbf{Data hazard} management by a \textbf{forwarding logic} (\textit{just r-type and i-type instructions})
\item \textbf{Extended datapath} by new components
\end{itemize}

\section{Instruction Set}

Basics information on the DLX instruction structures can be found in \cite{ProjectSpecification}.

\begin{table}[H]
\centering
\begin{tabular}{|p{0.4\textwidth}|p{0.2\textwidth}|p{0.2\textwidth}|}
\hline
\textbf{Instruction}&\textbf{Type}&\textbf{Annotation}\\ \hline
add addi and andi beqz bnez j jal lw nop or ori sge sgei sle slei sll slli sne snei srl srli sub subi sw xor xori & Basic DLX & n.27 \\ \hline
addui subui lhi jr jalr srai seqi slti sgti lb lh lbu lhu sb sh sltui sgtui sleui sgeui sra addu subu seq slt sgt sltu sgtu sleu sgeu & Pro DLX & n.29 \\ \hline
mult multu & Modified instructions & The binary format is changed. \newline mult(u) r1, r2, r3 has been replaced by \newline \textbf{mult(u) r2, r3}  <-- where the product is stored in two special registers, one for the 32 lowest bits and the other for the 32 highest. \\ \hline
mflo mfhi & New instructions & \textbf{mflo r1} <-- loads the 32 lowest bits of a product in r1 \newline \textbf{mfhi r1} <-- loads the 32 highest bits in r1\\
\hline
\end{tabular}
\caption{Instruction set}
\end{table}

\begin{figure}[H]
\centering
\includegraphics[scale=.6]{Immagini/01}
\label{01}
\caption{Mult format}
\end{figure}
\begin{figure}[H]
\centering
\includegraphics[scale=.6]{Immagini/02}
\label{02}
\caption{Multu format}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=.6]{Immagini/03}
\label{03}
\caption{Mflo format}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[scale=.6]{Immagini/04}
\label{04}
\caption{Mfhi format}
\end{figure}

More information on Basic and Pro DLX instruction in \cite{ProjectSpecification}.